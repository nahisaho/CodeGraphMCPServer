# CodeGraph MCP Server ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»æ›¸

**Project**: CodeGraph MCP Server
**Version**: 1.0.0
**Created**: 2025-11-26
**Status**: Draft
**Based On**: storage/specs/requirements-specification.md

---

## 1. ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒãƒªãƒ¼

### 1.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

CodeGraph MCP Serverã¯ã€Microsoft GraphRAGã®ã‚³ãƒ³ã‚»ãƒ—ãƒˆã‚’å‚è€ƒã«ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰åˆ†æã«æœ€é©åŒ–ã•ã‚ŒãŸMCPã‚µãƒ¼ãƒãƒ¼ã‚’é–‹ç™ºã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚GitHub Copilotã€Claude Codeã€Cursorç­‰ã®MCPå¯¾å¿œAIãƒ„ãƒ¼ãƒ«ã¨çµ±åˆã—ã€ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã®æ§‹é€ çš„ç†è§£ã¨åŠ¹ç‡çš„ãªã‚³ãƒ¼ãƒ‰è£œå®Œã‚’å®Ÿç¾ã—ã¾ã™ã€‚

### 1.2 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›®æ¨™

1. **ã‚¼ãƒ­æ§‹æˆèµ·å‹•**: `pip install codegraph-mcp && codegraph-mcp serve` ã§å³åº§ã«åˆ©ç”¨å¯èƒ½
2. **è»½é‡ãƒ»é«˜é€Ÿ**: å¤–éƒ¨DBä¸è¦ã€10ä¸‡è¡Œè¦æ¨¡ã®ã‚³ãƒ¼ãƒ‰ãƒ™ãƒ¼ã‚¹ã‚’30ç§’ä»¥å†…ã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
3. **MCP First**: Tools (14), Resources (4), Prompts (6) ã®åŒ…æ‹¬çš„ãªMCPå®Ÿè£…
4. **å¢—åˆ†æ›´æ–°**: Gitå·®åˆ†ã‚’æ´»ç”¨ã—ã€å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚’å†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
5. **GraphRAGçµ±åˆ**: ã‚³ãƒ¼ãƒ‰ã®ã‚»ãƒãƒ³ãƒ†ã‚£ã‚¯ã‚¹ç†è§£ã«LLMã‚’æ´»ç”¨ã—ãŸã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¦ç´„

### 1.3 æˆåŠŸåŸºæº–

| åŸºæº– | ç›®æ¨™ |
|------|------|
| MVPå®Œæˆ | Week 4 çµ‚äº†æ™‚ç‚¹ |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | 10ä¸‡è¡Œã‚’30ç§’ä»¥å†…ã§ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ |
| äº’æ›æ€§ | Claude Desktop / GitHub Copilot ã§ã®å‹•ä½œç¢ºèª |
| å“è³ª | ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ 80%ä»¥ä¸Š |

---

## 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚¹ã‚³ãƒ¼ãƒ—

### 2.1 ã‚¹ã‚³ãƒ¼ãƒ—å†…

| ã‚«ãƒ†ã‚´ãƒª | å†…å®¹ |
|----------|------|
| ã‚³ã‚¢æ©Ÿèƒ½ | ASTè§£æã€ã‚°ãƒ©ãƒ•ã‚¨ãƒ³ã‚¸ãƒ³ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ç®¡ç† |
| MCPæ©Ÿèƒ½ | Tools (14), Resources (4), Prompts (6) |
| è¨€èªã‚µãƒãƒ¼ãƒˆ | Python, TypeScript (MVP), Rust, JavaScript (Phase 2) |
| ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ | SQLiteã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã€ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢ |
| CLI | serve, index, query ã‚³ãƒãƒ³ãƒ‰ |
| GraphRAG | ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ¤œå‡ºã€ã‚µãƒãƒªãƒ¼ç”Ÿæˆã€global/local search |

### 2.2 ã‚¹ã‚³ãƒ¼ãƒ—å¤–

| ã‚«ãƒ†ã‚´ãƒª | å†…å®¹ | ç†ç”± |
|----------|------|------|
| Web UI | ã‚°ãƒ©ãƒ•å¯è¦–åŒ–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ | å°†æ¥ã®æ‹¡å¼µè¨ˆç”» |
| VS Code Extension | ç›´æ¥çµ±åˆ | å°†æ¥ã®æ‹¡å¼µè¨ˆç”» |
| ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–° | LSPçµ±åˆ | å°†æ¥ã®æ‹¡å¼µè¨ˆç”» |
| è¿½åŠ è¨€èª (Go, Java, C#) | Phase 3 | å„ªå…ˆåº¦ä½ |

---

## 3. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º

### 3.1 ãƒ•ã‚§ãƒ¼ã‚ºæ¦‚è¦

```
Week 1-2: Phase 1 - Core Foundation
Week 3-4: Phase 2 - MCP Integration  
Week 5-6: Phase 3 - GraphRAG Features
Week 7-8: Phase 4 - Polish & Extensions
```

### 3.2 Phase 1: Core Foundation (Week 1-2)

**ç›®æ¨™**: ã‚³ã‚¢ã‚¨ãƒ³ã‚¸ãƒ³ã®åŸºç›¤æ§‹ç¯‰

#### Week 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤ & ASTãƒ‘ãƒ¼ã‚µãƒ¼

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯ | è¦ä»¶ID | è¦‹ç©ã‚Š | æ‹…å½“ |
|----------|--------|--------|--------|------|
| TASK-001 | ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— | - | 4h | Dev |
| TASK-002 | pyproject.toml è¨­å®š | REQ-CLI-004 | 2h | Dev |
| TASK-003 | CI/CD ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨­å®š | - | 4h | Dev |
| TASK-004 | Python AST ãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£… | REQ-AST-001, REQ-AST-004 | 8h | Dev |
| TASK-005 | TypeScript AST ãƒ‘ãƒ¼ã‚µãƒ¼å®Ÿè£… | REQ-AST-002, REQ-AST-004 | 8h | Dev |
| TASK-006 | ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ | REQ-AST-005 | 4h | Dev |

**Week 1 æˆæœç‰©**:
- [ ] ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ å®Œæˆ
- [ ] Python/TypeScript ãƒ‘ãƒ¼ã‚µãƒ¼å‹•ä½œ
- [ ] ãƒ‘ãƒ¼ã‚µãƒ¼ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ 80%+

#### Week 2: ã‚°ãƒ©ãƒ•ã‚¨ãƒ³ã‚¸ãƒ³ & ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯ | è¦ä»¶ID | è¦‹ç©ã‚Š | æ‹…å½“ |
|----------|--------|--------|--------|------|
| TASK-007 | SQLite ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆãƒ»å®Ÿè£… | REQ-GRF-005, REQ-GRF-006, REQ-STR-001 | 6h | Dev |
| TASK-008 | ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ CRUD å®Ÿè£… | REQ-GRF-001, REQ-GRF-003 | 4h | Dev |
| TASK-009 | é–¢ä¿‚ CRUD å®Ÿè£… | REQ-GRF-002, REQ-GRF-004 | 4h | Dev |
| TASK-010 | ã‚°ãƒ©ãƒ•ã‚¯ã‚¨ãƒªå®Ÿè£… | REQ-GRF-006 | 6h | Dev |
| TASK-011 | ãƒ•ã‚¡ã‚¤ãƒ«ã‚­ãƒ£ãƒƒã‚·ãƒ¥å®Ÿè£… | REQ-STR-002 | 4h | Dev |
| TASK-012 | ã‚¤ãƒ³ãƒ‡ã‚¯ã‚µãƒ¼åŸºç›¤å®Ÿè£… | REQ-IDX-001, REQ-IDX-004 | 6h | Dev |
| TASK-013 | å¢—åˆ†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å®Ÿè£… | REQ-IDX-002, REQ-STR-004 | 6h | Dev |
| TASK-014 | ã‚°ãƒ©ãƒ•ã‚¨ãƒ³ã‚¸ãƒ³ãƒ†ã‚¹ãƒˆ | - | 4h | Dev |

**Week 2 æˆæœç‰©**:
- [ ] SQLite ã‚°ãƒ©ãƒ•ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å‹•ä½œ
- [ ] åŸºæœ¬çš„ãªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ä½œæˆå‹•ä½œ
- [ ] å¢—åˆ†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹å‹•ä½œ

**Phase 1 ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: ã‚³ã‚¢ã‚¨ãƒ³ã‚¸ãƒ³å®Œæˆ

---

### 3.3 Phase 2: MCP Integration (Week 3-4)

**ç›®æ¨™**: MCPã‚µãƒ¼ãƒãƒ¼ã¨ã—ã¦å‹•ä½œå¯èƒ½

#### Week 3: MCPã‚µãƒ¼ãƒãƒ¼åŸºç›¤ & åŸºæœ¬ãƒ„ãƒ¼ãƒ«

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯ | è¦ä»¶ID | è¦‹ç©ã‚Š | æ‹…å½“ |
|----------|--------|--------|--------|------|
| TASK-015 | MCPã‚µãƒ¼ãƒãƒ¼åŸºç›¤å®Ÿè£… | REQ-TRP-001, REQ-TRP-004 | 8h | Dev |
| TASK-016 | query_codebase ãƒ„ãƒ¼ãƒ« | REQ-TLS-001 | 4h | Dev |
| TASK-017 | find_dependencies ãƒ„ãƒ¼ãƒ« | REQ-TLS-002 | 4h | Dev |
| TASK-018 | find_callers ãƒ„ãƒ¼ãƒ« | REQ-TLS-003 | 4h | Dev |
| TASK-019 | find_callees ãƒ„ãƒ¼ãƒ« | REQ-TLS-004 | 4h | Dev |
| TASK-020 | find_implementations ãƒ„ãƒ¼ãƒ« | REQ-TLS-005 | 4h | Dev |
| TASK-021 | analyze_module_structure ãƒ„ãƒ¼ãƒ« | REQ-TLS-006 | 4h | Dev |
| TASK-022 | ã‚°ãƒ©ãƒ•ã‚¯ã‚¨ãƒªãƒ„ãƒ¼ãƒ«ãƒ†ã‚¹ãƒˆ | - | 4h | Dev |

**Week 3 æˆæœç‰©**:
- [ ] MCPã‚µãƒ¼ãƒãƒ¼èµ·å‹•å¯èƒ½
- [ ] 6ã‚°ãƒ©ãƒ•ã‚¯ã‚¨ãƒªãƒ„ãƒ¼ãƒ«å‹•ä½œ

#### Week 4: ã‚³ãƒ¼ãƒ‰å–å¾—ãƒ„ãƒ¼ãƒ« & ãƒªã‚½ãƒ¼ã‚¹ & CLI

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯ | è¦ä»¶ID | è¦‹ç©ã‚Š | æ‹…å½“ |
|----------|--------|--------|--------|------|
| TASK-023 | get_code_snippet ãƒ„ãƒ¼ãƒ« | REQ-TLS-007 | 3h | Dev |
| TASK-024 | read_file_content ãƒ„ãƒ¼ãƒ« | REQ-TLS-008 | 2h | Dev |
| TASK-025 | get_file_structure ãƒ„ãƒ¼ãƒ« | REQ-TLS-009 | 3h | Dev |
| TASK-026 | reindex_repository ãƒ„ãƒ¼ãƒ« | REQ-TLS-013 | 3h | Dev |
| TASK-027 | entities ãƒªã‚½ãƒ¼ã‚¹ | REQ-RSC-001 | 2h | Dev |
| TASK-028 | files ãƒªã‚½ãƒ¼ã‚¹ | REQ-RSC-002 | 2h | Dev |
| TASK-029 | stats ãƒªã‚½ãƒ¼ã‚¹ | REQ-RSC-004 | 2h | Dev |
| TASK-030 | CLI serve ã‚³ãƒãƒ³ãƒ‰ | REQ-CLI-001, REQ-CLI-002 | 4h | Dev |
| TASK-031 | CLI help ã‚³ãƒãƒ³ãƒ‰ | REQ-CLI-003 | 2h | Dev |
| TASK-032 | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°è¨­å®š | REQ-CLI-004 | 2h | Dev |
| TASK-033 | E2E ãƒ†ã‚¹ãƒˆ (Claude Desktop) | REQ-NFR-011 | 4h | QA |
| TASK-034 | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ | REQ-NFR-001~004 | 4h | QA |

**Week 4 æˆæœç‰©**:
- [ ] å…¨MVP ãƒ„ãƒ¼ãƒ«å‹•ä½œ
- [ ] ãƒªã‚½ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
- [ ] CLIå‹•ä½œ
- [ ] pip install å¯èƒ½

**Phase 2 ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: MVP ãƒªãƒªãƒ¼ã‚¹ ğŸ‰

---

### 3.4 Phase 3: GraphRAG Features (Week 5-6)

**ç›®æ¨™**: GraphRAGæ©Ÿèƒ½ã®å®Ÿè£…

#### Week 5: ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ¤œå‡º & ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯åˆ†æ

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯ | è¦ä»¶ID | è¦‹ç©ã‚Š | æ‹…å½“ |
|----------|--------|--------|--------|------|
| TASK-035 | ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ  | REQ-SEM-003, REQ-SEM-004 | 8h | Dev |
| TASK-036 | LLMçµ±åˆåŸºç›¤ | REQ-SEM-001 | 6h | Dev |
| TASK-037 | ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£èª¬æ˜ç”Ÿæˆ | REQ-SEM-001 | 4h | Dev |
| TASK-038 | ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã‚µãƒãƒªãƒ¼ç”Ÿæˆ | REQ-SEM-002 | 4h | Dev |
| TASK-039 | ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢å®Ÿè£… | REQ-STR-003 | 6h | Dev |
| TASK-040 | communities ãƒªã‚½ãƒ¼ã‚¹ | REQ-RSC-003 | 3h | Dev |
| TASK-041 | ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯åˆ†æãƒ†ã‚¹ãƒˆ | - | 4h | Dev |

**Week 5 æˆæœç‰©**:
- [ ] ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ¤œå‡ºå‹•ä½œ
- [ ] LLMé€£æºå‹•ä½œ
- [ ] ã‚µãƒãƒªãƒ¼ç”Ÿæˆå‹•ä½œ

#### Week 6: GraphRAG ãƒ„ãƒ¼ãƒ« & ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯ | è¦ä»¶ID | è¦‹ç©ã‚Š | æ‹…å½“ |
|----------|--------|--------|--------|------|
| TASK-042 | global_search ãƒ„ãƒ¼ãƒ« | REQ-TLS-010 | 6h | Dev |
| TASK-043 | local_search ãƒ„ãƒ¼ãƒ« | REQ-TLS-011 | 6h | Dev |
| TASK-044 | execute_shell_command ãƒ„ãƒ¼ãƒ« | REQ-TLS-014 | 4h | Dev |
| TASK-045 | code_review ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | REQ-PRM-001 | 2h | Dev |
| TASK-046 | explain_codebase ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | REQ-PRM-002 | 2h | Dev |
| TASK-047 | implement_feature ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | REQ-PRM-003 | 2h | Dev |
| TASK-048 | debug_issue ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | REQ-PRM-004 | 2h | Dev |
| TASK-049 | test_generation ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | REQ-PRM-006 | 2h | Dev |
| TASK-050 | GraphRAG çµ±åˆãƒ†ã‚¹ãƒˆ | - | 4h | QA |

**Week 6 æˆæœç‰©**:
- [ ] GraphRAG ãƒ„ãƒ¼ãƒ«å‹•ä½œ
- [ ] 5 ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå‹•ä½œ
- [ ] Phase 2 å—ã‘å…¥ã‚Œãƒ†ã‚¹ãƒˆåˆæ ¼

**Phase 3 ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: GraphRAG ãƒªãƒªãƒ¼ã‚¹

---

### 3.5 Phase 4: Polish & Extensions (Week 7-8)

**ç›®æ¨™**: å“è³ªå‘ä¸Šã¨æ‹¡å¼µæ©Ÿèƒ½

#### Week 7: è¿½åŠ è¨€èª & æ‹¡å¼µæ©Ÿèƒ½

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯ | è¦ä»¶ID | è¦‹ç©ã‚Š | æ‹…å½“ |
|----------|--------|--------|--------|------|
| TASK-051 | Rust AST ãƒ‘ãƒ¼ã‚µãƒ¼ | REQ-AST-003 | 8h | Dev |
| TASK-052 | JavaScript AST ãƒ‘ãƒ¼ã‚µãƒ¼ | - | 6h | Dev |
| TASK-053 | SSE ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆ | REQ-TRP-002 | 6h | Dev |
| TASK-054 | suggest_refactoring ãƒ„ãƒ¼ãƒ« | REQ-TLS-012 | 6h | Dev |
| TASK-055 | refactor_guidance ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ | REQ-PRM-005 | 2h | Dev |
| TASK-056 | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ– | REQ-NFR-012, REQ-NFR-013 | 4h | Dev |

**Week 7 æˆæœç‰©**:
- [ ] Rust/JavaScript ã‚µãƒãƒ¼ãƒˆ
- [ ] SSE ãƒˆãƒ©ãƒ³ã‚¹ãƒãƒ¼ãƒˆå‹•ä½œ
- [ ] ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½

#### Week 8: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ & æœ€çµ‚èª¿æ•´

| ã‚¿ã‚¹ã‚¯ID | ã‚¿ã‚¹ã‚¯ | è¦ä»¶ID | è¦‹ç©ã‚Š | æ‹…å½“ |
|----------|--------|--------|--------|------|
| TASK-057 | README.md ä½œæˆ | - | 4h | Dev |
| TASK-058 | API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | - | 4h | Dev |
| TASK-059 | ä½¿ç”¨ä¾‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | - | 4h | Dev |
| TASK-060 | Claude Desktop è¨­å®šä¾‹ | - | 2h | Dev |
| TASK-061 | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– | REQ-NFR-001~006 | 8h | Dev |
| TASK-062 | æœ€çµ‚çµ±åˆãƒ†ã‚¹ãƒˆ | - | 4h | QA |
| TASK-063 | PyPI ãƒªãƒªãƒ¼ã‚¹æº–å‚™ | - | 4h | Dev |
| TASK-064 | ãƒªãƒªãƒ¼ã‚¹ãƒãƒ¼ãƒˆä½œæˆ | - | 2h | Dev |

**Week 8 æˆæœç‰©**:
- [ ] å®Œå…¨ãªãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™é”æˆ
- [ ] v0.1.0 ãƒªãƒªãƒ¼ã‚¹

**Phase 4 ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³**: v0.1.0 å…¬é–‹ãƒªãƒªãƒ¼ã‚¹ ğŸš€

---

## 4. ã‚¿ã‚¹ã‚¯è¦ç´„

### 4.1 ãƒ•ã‚§ãƒ¼ã‚ºåˆ¥ã‚¿ã‚¹ã‚¯æ•°

| ãƒ•ã‚§ãƒ¼ã‚º | ã‚¿ã‚¹ã‚¯æ•° | è¦‹ç©ã‚Šåˆè¨ˆ |
|----------|----------|------------|
| Phase 1: Core Foundation | 14 | 70h |
| Phase 2: MCP Integration | 20 | 62h |
| Phase 3: GraphRAG | 16 | 65h |
| Phase 4: Polish | 14 | 58h |
| **åˆè¨ˆ** | **64** | **255h** |

### 4.2 è¦ä»¶ã‚«ãƒãƒ¬ãƒƒã‚¸

| è¦ä»¶ã‚«ãƒ†ã‚´ãƒª | è¦ä»¶æ•° | MVPå¯¾å¿œ | å…¨Phaseå¯¾å¿œ |
|--------------|--------|---------|-------------|
| AST (REQ-AST-*) | 5 | 3 | 5 |
| Graph (REQ-GRF-*) | 6 | 6 | 6 |
| Semantic (REQ-SEM-*) | 4 | 0 | 4 |
| Transport (REQ-TRP-*) | 5 | 2 | 3 |
| Tools (REQ-TLS-*) | 14 | 10 | 14 |
| Resources (REQ-RSC-*) | 4 | 3 | 4 |
| Prompts (REQ-PRM-*) | 6 | 0 | 6 |
| Storage (REQ-STR-*) | 4 | 3 | 4 |
| Index (REQ-IDX-*) | 4 | 4 | 4 |
| CLI (REQ-CLI-*) | 4 | 4 | 4 |
| NFR (REQ-NFR-*) | 13 | 10 | 13 |
| **åˆè¨ˆ** | **69** | **45 (65%)** | **67 (97%)** |

---

## 5. ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

| ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ | äºˆå®šæ—¥ | æˆæœç‰© | å—ã‘å…¥ã‚ŒåŸºæº– |
|----------------|--------|--------|--------------|
| M1: Core Engine | Week 2 | ã‚³ã‚¢ã‚¨ãƒ³ã‚¸ãƒ³ | ASTè§£æã€ã‚°ãƒ©ãƒ•ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸å‹•ä½œ |
| M2: MVP Release | Week 4 | MVP | pip install & Claude Desktop å‹•ä½œ |
| M3: GraphRAG | Week 6 | GraphRAG | ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æ¤œå‡ºã€global/local search |
| M4: v0.1.0 | Week 8 | å…¬é–‹ãƒªãƒªãƒ¼ã‚¹ | å…¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€PyPIå…¬é–‹ |

---

## 6. ãƒªã‚½ãƒ¼ã‚¹è¨ˆç”»

### 6.1 ãƒãƒ¼ãƒ æ§‹æˆ

| ãƒ­ãƒ¼ãƒ« | äººæ•° | è²¬ä»» |
|--------|------|------|
| Tech Lead | 1 | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã€æŠ€è¡“çš„æ„æ€æ±ºå®š |
| Developer | 1-2 | å®Ÿè£…ã€ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |
| QA | 0.5 | çµ±åˆãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆ |

### 6.2 é–‹ç™ºç’°å¢ƒ

| ã‚«ãƒ†ã‚´ãƒª | ãƒ„ãƒ¼ãƒ« |
|----------|--------|
| è¨€èª | Python 3.11+ |
| IDE | VS Code |
| VCS | Git / GitHub |
| CI/CD | GitHub Actions |
| Package | pip / PyPI |
| Test | pytest, pytest-asyncio, pytest-cov |
| Lint | ruff, mypy |

---

## 7. ãƒªã‚¹ã‚¯ç®¡ç†

### 7.1 ãƒªã‚¹ã‚¯ä¸€è¦§

| ID | ãƒªã‚¹ã‚¯ | ç¢ºç‡ | å½±éŸ¿ | å¯¾ç­– |
|----|--------|------|------|------|
| R1 | Tree-sitter è¨€èªã‚µãƒãƒ¼ãƒˆã®åˆ¶é™ | ä¸­ | é«˜ | äº‹å‰ã«å¯¾å¿œè¨€èªã‚’æ¤œè¨¼ã€ä»£æ›¿ãƒ‘ãƒ¼ã‚µãƒ¼èª¿æŸ» |
| R2 | MCP SDK ã®å®‰å®šæ€§ | ä½ | é«˜ | ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’å›ºå®šã€äº’æ›æ€§ãƒ†ã‚¹ãƒˆ |
| R3 | LLM API ã‚³ã‚¹ãƒˆè¶…é | ä¸­ | ä¸­ | ãƒ­ãƒ¼ã‚«ãƒ«LLMå¯¾å¿œã€ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ´»ç”¨ |
| R4 | ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™æœªé” | ä¸­ | é«˜ | æ—©æœŸãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã€æ®µéšçš„æœ€é©åŒ– |
| R5 | ã‚¹ã‚³ãƒ¼ãƒ—ã‚¯ãƒªãƒ¼ãƒ— | é«˜ | ä¸­ | MVPå„ªå…ˆã€Phase -1 Gate éµå®ˆ |

### 7.2 ãƒªã‚¹ã‚¯å¯¾å¿œè¨ˆç”»

**R1 (Tree-sitter)**: Week 1 ã§Python/TypeScriptã®è©³ç´°æ¤œè¨¼ã‚’å®Ÿæ–½ã€‚å•é¡Œç™ºç”Ÿæ™‚ã¯ä»£æ›¿ãƒ‘ãƒ¼ã‚µãƒ¼ï¼ˆast moduleç­‰ï¼‰ã‚’æ¤œè¨ã€‚

**R4 (ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹)**: Week 2 çµ‚äº†æ™‚ç‚¹ã§10ä¸‡è¡Œãƒ™ãƒ³ãƒãƒãƒ¼ã‚¯ã‚’å®Ÿæ–½ã€‚ç›®æ¨™ã®2å€ä»¥ä¸Šã‹ã‹ã‚‹å ´åˆã¯ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ è¦‹ç›´ã—ã€‚

---

## 8. å“è³ªç®¡ç†

### 8.1 å“è³ªåŸºæº–

| åŸºæº– | ç›®æ¨™å€¤ |
|------|--------|
| ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ | 80%ä»¥ä¸Š |
| å‹ã‚«ãƒãƒ¬ãƒƒã‚¸ | 100% (strict mode) |
| Lint ã‚¨ãƒ©ãƒ¼ | 0 |
| ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | å…¨public API |

### 8.2 ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

| ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— | ç¯„å›² | ãƒ„ãƒ¼ãƒ« | ã‚¿ã‚¤ãƒŸãƒ³ã‚° |
|--------------|------|--------|------------|
| Unit | å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | pytest | å„PR |
| Integration | ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆé–“ | pytest + å®ŸDB | å„PR |
| E2E | MCP ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ | Claude Desktop | å„Phaseçµ‚äº†æ™‚ |
| Performance | ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã€ã‚¯ã‚¨ãƒª | pytest-benchmark | Week 2, 4, 8 |

### 8.3 ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼

- ã™ã¹ã¦ã®PRã¯ãƒ¬ãƒ“ãƒ¥ãƒ¼å¿…é ˆ
- MUSUBI SDD Constitution æº–æ‹ ãƒã‚§ãƒƒã‚¯
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèª

---

## 9. ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç”»

### 9.1 å®šä¾‹ä¼šè­°

| ä¼šè­° | é »åº¦ | å‚åŠ è€… | ç›®çš„ |
|------|------|--------|------|
| Daily Standup | æ¯æ—¥ | å…¨å“¡ | é€²æ—ç¢ºèªã€ãƒ–ãƒ­ãƒƒã‚«ãƒ¼å…±æœ‰ |
| Sprint Review | éš”é€± | å…¨å“¡ | ãƒ‡ãƒ¢ã€ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ |
| Sprint Retro | éš”é€± | å…¨å“¡ | ãƒ—ãƒ­ã‚»ã‚¹æ”¹å–„ |

### 9.2 æˆæœç‰©ãƒ¬ãƒ“ãƒ¥ãƒ¼

| æˆæœç‰© | ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ | ã‚¿ã‚¤ãƒŸãƒ³ã‚° |
|--------|------------|------------|
| è¦ä»¶å®šç¾©æ›¸ | PO, Tech Lead | Phaseé–‹å§‹å‰ |
| è¨­è¨ˆæ›¸ | Tech Lead | å®Ÿè£…å‰ |
| ã‚³ãƒ¼ãƒ‰ | Dev Peer | PRæ™‚ |
| ãƒ†ã‚¹ãƒˆçµæœ | QA, Tech Lead | Phaseçµ‚äº†æ™‚ |

---

## 10. å¤‰æ›´ç®¡ç†

### 10.1 å¤‰æ›´è¦æ±‚ãƒ—ãƒ­ã‚»ã‚¹

1. å¤‰æ›´è¦æ±‚ã‚’ Issue ã¨ã—ã¦ç™»éŒ²
2. å½±éŸ¿åˆ†æï¼ˆã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ãƒªã‚½ãƒ¼ã‚¹ã€å“è³ªï¼‰
3. Tech Lead æ‰¿èª
4. è¨ˆç”»æ›¸æ›´æ–°
5. å®Ÿè£…

### 10.2 ã‚¹ã‚³ãƒ¼ãƒ—å¤‰æ›´ãƒãƒªã‚·ãƒ¼

- MVPæ©Ÿèƒ½ã®è¿½åŠ ã¯ Phase -1 Gate å¿…é ˆ
- éæ©Ÿèƒ½è¦ä»¶ã®ç·©å’Œã¯ PO æ‰¿èªå¿…é ˆ
- ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«å»¶é•·ã¯å…¨ã‚¹ãƒ†ãƒ¼ã‚¯ãƒ›ãƒ«ãƒ€ãƒ¼åˆæ„å¿…é ˆ

---

## 11. ä¾å­˜é–¢ä¿‚

### 11.1 å¤–éƒ¨ä¾å­˜

| ä¾å­˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ãƒªã‚¹ã‚¯ |
|------|-----------|--------|
| mcp | >=1.0.0 | MCP SDKæ›´æ–°ã¸ã®è¿½å¾“ |
| tree-sitter | >=0.21.0 | è¨€èªãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã®äº’æ›æ€§ |
| aiosqlite | >=0.19.0 | ä½ãƒªã‚¹ã‚¯ |
| openai | >=1.0.0 | APIå¤‰æ›´ã€ã‚³ã‚¹ãƒˆ |

### 11.2 å†…éƒ¨ä¾å­˜

```
core/parser.py  â†’  core/graph.py  â†’  core/indexer.py
                            â†“
                    storage/sqlite.py
                            â†“
                    mcp/tools.py  â†’  server.py
```

---

## 12. æˆæœç‰©ä¸€è¦§

### 12.1 ã‚³ãƒ¼ãƒ‰æˆæœç‰©

| æˆæœç‰© | ãƒ‘ã‚¹ | Phase |
|--------|------|-------|
| AST Parser | src/codegraph_mcp/core/parser.py | 1 |
| Graph Engine | src/codegraph_mcp/core/graph.py | 1 |
| Indexer | src/codegraph_mcp/core/indexer.py | 1 |
| SQLite Storage | src/codegraph_mcp/storage/sqlite.py | 1 |
| MCP Server | src/codegraph_mcp/server.py | 2 |
| MCP Tools | src/codegraph_mcp/mcp/tools.py | 2-3 |
| MCP Resources | src/codegraph_mcp/mcp/resources.py | 2-3 |
| MCP Prompts | src/codegraph_mcp/mcp/prompts.py | 3 |
| CLI | src/codegraph_mcp/__main__.py | 2 |
| Semantic Analyzer | src/codegraph_mcp/core/semantic.py | 3 |
| Community Detection | src/codegraph_mcp/core/community.py | 3 |

### 12.2 ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæˆæœç‰©

| æˆæœç‰© | ãƒ‘ã‚¹ | Phase |
|--------|------|-------|
| è¦ä»¶å®šç¾©æ›¸ | storage/specs/requirements-specification.md | 0 |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»æ›¸ | storage/specs/project-plan.md | 0 |
| è¨­è¨ˆæ›¸ | storage/specs/design.md | 1 |
| README | README.md | 4 |
| API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ | docs/api.md | 4 |
| ä½¿ç”¨ä¾‹ | examples/ | 4 |

---

## 13. æ‰¿èª

| å½¹å‰² | åå‰ | ç½²å | æ—¥ä»˜ |
|------|------|------|------|
| ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼ | | | |
| ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰ | | | |
| ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ | | | |

---

## 14. å¤‰æ›´å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | ä½œæˆè€… |
|------------|------|----------|--------|
| 1.0.0 | 2025-11-26 | åˆç‰ˆä½œæˆ | System |

---

**Document Status**: Draft
**Constitutional Compliance**: Article V (Traceability) âœ“, Article VI (Project Memory) âœ“
